# üé≠ –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –≤ Go

> –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å ‚Äî —ç—Ç–æ **–∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–π –Ω–∞–±–æ—Ä —Å–∏–≥–Ω–∞—Ç—É—Ä –º–µ—Ç–æ–¥–æ–≤** (–∫–æ–Ω—Ç—Ä–∞–∫—Ç).  
> –û–Ω –æ–ø–∏—Å—ã–≤–∞–µ—Ç _–ø–æ–≤–µ–¥–µ–Ω–∏–µ_, –∞ –Ω–µ –¥–∞–Ω–Ω—ã–µ.

(—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—é –∏–∑ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏, —Å—Ç—Ä. 4

acbc5621-2c16-4c57-865d-fbabf32‚Ä¶

)

---

## üìå –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ–º—ã

- [[Struct]]
    
- [[–ú–µ—Ç–æ–¥—ã –≤ Go]]
    
- [[–ö–æ–º–ø–æ–∑–∏—Ü–∏—è –≤–º–µ—Å—Ç–æ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è]]
    
- [[Value vs Pointer –≤ Go]]
    
- [[–ü—É—Å—Ç–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (any)]]
    
- [[Type assertion –∏ type switch]]
    
- [[Generics]]
    

---

# 1Ô∏è‚É£ –ü–æ–Ω—è—Ç–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å:

- –≤—ã—Ä–∞–∂–∞–µ—Ç **–∞–±—Å—Ç—Ä–∞–∫—Ü–∏—é –ø–æ–≤–µ–¥–µ–Ω–∏—è**
    
- –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç **–∫–æ–Ω—Ç—Ä–∞–∫—Ç**
    
- –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è **–Ω–µ—è–≤–Ω–æ**
    
- –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç **–ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º**
    

–í Go –Ω–µ—Ç –∫–ª—é—á–µ–≤–æ–≥–æ —Å–ª–æ–≤–∞ `implements`.

–ï—Å–ª–∏ —Ç–∏–ø –∏–º–µ–µ—Ç –Ω—É–∂–Ω—ã–µ –º–µ—Ç–æ–¥—ã ‚Äî –æ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

–≠—Ç–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è **—É—Ç–∏–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è**.

> ‚ÄúIf it walks like a duck and quacks like a duck‚Ä¶‚Äù

---

## üîπ –ü—Ä–∏–º–µ—Ä –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

type Serializer interface {  
	Serialize() ([]byte, error)  
}

–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:

type Person struct {  
	Name string  
	Age  int  
}  
  
func (p *Person) Serialize() ([]byte, error) {  
	return json.Marshal(p)  
}

–ü–æ–ª–∏–º–æ—Ä—Ñ–∏—á–µ—Å–∫–∞—è —Ñ—É–Ω–∫—Ü–∏—è:

func ToString(s Serializer) string {  
	b, err := s.Serialize()  
	if err != nil {  
		return ""  
	}  
	return string(b)  
}

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

p := Person{Name: "Kurt", Age: 27}  
fmt.Println(ToString(&p))

---

# 2Ô∏è‚É£ –ö–∞–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É—Å—Ç—Ä–æ–µ–Ω –≤–Ω—É—Ç—Ä–∏

–°–æ–≥–ª–∞—Å–Ω–æ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏ (—Å—Ç—Ä. 6)

acbc5621-2c16-4c57-865d-fbabf32‚Ä¶

  
–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤ —Ä–∞–Ω—Ç–∞–π–º–µ ‚Äî —ç—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤–∏–¥–∞:

type iface struct {  
	tab  *itab  
	data unsafe.Pointer  
}

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ö—Ä–∞–Ω–∏—Ç:

- üîπ —Ç–∏–ø –∑–Ω–∞—á–µ–Ω–∏—è
    
- üîπ —Ç–∞–±–ª–∏—Ü—É –º–µ—Ç–æ–¥–æ–≤
    
- üîπ —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —Å–∞–º–æ –∑–Ω–∞—á–µ–Ω–∏–µ
    

–¢–æ –µ—Å—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å ‚Äî —ç—Ç–æ **–æ–±—ë—Ä—Ç–∫–∞ –Ω–∞–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º**.

---

## ‚ö†Ô∏è Nil-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å ‚Äî —Å—Å—ã–ª–æ—á–Ω—ã–π —Ç–∏–ø.

var s Serializer

–≠—Ç–æ **nil-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**, –µ—Å–ª–∏:

- –Ω–µ—Ç —Ç–∏–ø–∞
    
- –Ω–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è
    

–í–∞–∂–Ω–æ:

var p *Person = nil  
var s Serializer = p  
  
fmt.Println(s == nil) // false

–ü–æ—á–µ–º—É?

–ü–æ—Ç–æ–º—É —á—Ç–æ:

- —Ç–∏–ø –µ—Å—Ç—å (`*Person`)
    
- –∑–Ω–∞—á–µ–Ω–∏–µ nil
    

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ù–ï —Ä–∞–≤–µ–Ω nil.

–≠—Ç–æ –æ–¥–Ω–∞ –∏–∑ —Å–∞–º—ã—Ö —á–∞—Å—Ç—ã—Ö –ª–æ–≤—É—à–µ–∫.

---

# 3Ô∏è‚É£ –ü—É—Å—Ç–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

## interface{}

–ü—É—Å—Ç–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å ‚Äî —ç—Ç–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –±–µ–∑ –º–µ—Ç–æ–¥–æ–≤.

interface{}

–õ—é–±–æ–π —Ç–∏–ø —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è–µ—Ç –ø—É—Å—Ç–æ–º—É –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É.

–ü–æ—ç—Ç–æ–º—É –º–æ–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å:

var x interface{}  
x = 42  
x = "hello"  
x = true

–° Go 1.18 –ø–æ—è–≤–∏–ª—Å—è –∞–ª–∏–∞—Å:

var x any

(—Å—Ç—Ä. 10 –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏

acbc5621-2c16-4c57-865d-fbabf32‚Ä¶

)

---

## ‚ö†Ô∏è –ü–æ—á–µ–º—É –ø—É—Å—Ç–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å ‚Äî –æ–ø–∞—Å–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç

–ö–∞–∫ —Å–∫–∞–∑–∞–Ω–æ –≤ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏:

> interface{} says nothing.

–û–Ω —É–±–∏—Ä–∞–µ—Ç —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å.

–¢—Ä–µ–±—É–µ—Ç:

- type assertion
    
- type switch
    
- —Ä–µ—Ñ–ª–µ–∫—Å–∏—é
    

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω—É–∂–Ω–æ.

---

# 4Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞ (Type Assertion)

–û–ø–µ—Ä–∞—Ü–∏—è:

x.(T)

–ü—Ä–∏–º–µ—Ä:

var x interface{} = "hello"  
  
s := x.(string)

–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç:

s, ok := x.(string)  
if ok {  
	fmt.Println(s)  
}

---

# 5Ô∏è‚É£ Type Switch

switch v := x.(type) {  
case int:  
	fmt.Println("int:", v)  
case string:  
	fmt.Println("string:", v)  
default:  
	fmt.Println("unknown")  
}

–ü–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Ä–∞–∑–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ –≤–Ω—É—Ç—Ä–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.

---

# 6Ô∏è‚É£ –í–∞–∂–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

(—Å—Ç—Ä. 15 –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏

acbc5621-2c16-4c57-865d-fbabf32‚Ä¶

)

## error

type error interface {  
	Error() string  
}

–õ—é–±–æ–π —Ç–∏–ø —Å –º–µ—Ç–æ–¥–æ–º `Error()` ‚Äî —ç—Ç–æ –æ—à–∏–±–∫–∞.

---

## fmt.Stringer

type Stringer interface {  
	String() string  
}

–ü–æ–∑–≤–æ–ª—è–µ—Ç –∫–∞—Å—Ç–æ–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤—ã–≤–æ–¥.

---

## io.Reader

type Reader interface {  
	Read(p []byte) (n int, err error)  
}

---

## io.Writer

type Writer interface {  
	Write(p []byte) (n int, err error)  
}

---

## http.Handler

type Handler interface {  
	ServeHTTP(ResponseWriter, *Request)  
}

---

# 7Ô∏è‚É£ –ú–∞–ª–µ–Ω—å–∫–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã ‚Äî —Ö–æ—Ä–æ—à–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞

–ó–æ–ª–æ—Ç–æ–µ –ø—Ä–∞–≤–∏–ª–æ Go:

> –ß–µ–º –º–µ–Ω—å—à–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å ‚Äî —Ç–µ–º –ª—É—á—à–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è.

–ü—Ä–∏–º–µ—Ä:

‚ùå –ü–ª–æ—Ö–æ:

type UserService interface {  
	Create()  
	Update()  
	Delete()  
	Get()  
	Validate()  
	Log()  
}

‚úÖ –õ—É—á—à–µ:

type Creator interface {  
	Create()  
}

---

# 8Ô∏è‚É£ –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã:

- –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç —Å–ª–∞–±—É—é —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å
    
- –ø–æ–∑–≤–æ–ª—è—é—Ç –ª–µ–≥–∫–æ –ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã
    
- –¥–∞—é—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
    

–°–≤—è–∑–∞–Ω–æ —Å:

- [[Dependency Injection]]
    
- [[Clean Architecture]]
    
- [[Testing]]
    

---

# 9Ô∏è‚É£ –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã vs Generics

–î–æ Go 1.18 –æ–±–æ–±—â—ë–Ω–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–ª–∞–ª–∏ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã.

–ù–æ —ç—Ç–æ –ø—Ä–∏–≤–æ–¥–∏–ª–æ –∫:

- –ø–æ—Ç–µ—Ä–µ —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
    
- –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—é –∫–æ–¥–∞
    
- –ø—Ä–æ–≤–µ—Ä–∫–µ —Ç–∏–ø–æ–≤
    

–¢–µ–ø–µ—Ä—å –µ—Å—Ç—å [[Generics]].

–ù–æ:

- –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã ‚Äî –ø—Ä–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ
    
- generics ‚Äî –ø—Ä–æ —Ç–∏–ø—ã
    

–≠—Ç–æ —Ä–∞–∑–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã.

---

# üîü –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏ –Ω–æ–≤–∏—á–∫–æ–≤

‚ùå –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `interface{}` –±–µ–∑ –ø—Ä–∏—á–∏–Ω—ã  
‚ùå –î–µ–ª–∞—Ç—å –æ–≥—Ä–æ–º–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã  
‚ùå –û–ø—Ä–µ–¥–µ–ª—è—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –≤ –ø–∞–∫–µ—Ç–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, –∞ –Ω–µ –≤ –ø–∞–∫–µ—Ç–µ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è  
‚ùå –ù–µ –ø–æ–Ω–∏–º–∞—Ç—å nil-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

---

# üß† –§–∏–ª–æ—Å–æ—Ñ–∏—è Go

Go ‚Äî —ç—Ç–æ:

- —Å—Ç—Ä—É–∫—Ç—É—Ä—ã + –º–µ—Ç–æ–¥—ã
    
- –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
    
- –∫–æ–º–ø–æ–∑–∏—Ü–∏—è
    

–ù–µ—Ç –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è.  
–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∑–∞–º–µ–Ω—è—é—Ç –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º –û–û–ü.

---

# üîö –í—ã–≤–æ–¥

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –≤ Go:

- –æ–ø–∏—Å—ã–≤–∞—é—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ
    
- —Ä–µ–∞–ª–∏–∑—É—é—Ç—Å—è –Ω–µ—è–≤–Ω–æ
    
- —è–≤–ª—è—é—Ç—Å—è –æ—Å–Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
    
- –¥–µ–ª–∞—é—Ç –∫–æ–¥ –≥–∏–±–∫–∏–º
    

–ï—Å–ª–∏ —Ç—ã –ø–æ–Ω–∏–º–∞–µ—à—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –≥–ª—É–±–æ–∫–æ ‚Äî —Ç—ã –Ω–∞—á–∏–Ω–∞–µ—à—å –ø–æ–Ω–∏–º–∞—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É Go.