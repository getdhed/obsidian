# üöÄ HTTP/2

HTTP/2 ‚Äî —ç—Ç–æ –Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ [[HTTP]], –∫–æ—Ç–æ—Ä–∞—è –¥–µ–ª–∞–µ—Ç –ø–µ—Ä–µ–¥–∞—á—É –¥–∞–Ω–Ω—ã—Ö **–±—ã—Å—Ç—Ä–µ–µ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ**.

–ü—Ä–æ—â–µ:

> HTTP/2 ‚Äî —ç—Ç–æ —Ç–æ—Ç –∂–µ HTTP, –Ω–æ —É–º–Ω–µ–µ –∏ –±—ã—Å—Ç—Ä–µ–µ.

–°–≤—è–∑–∞–Ω–æ —Å:

- [[HTTP]]
    
- [[HTTPS]]
    
- [[gRPC]]
    
- [[Microservices]]
    
- [[Protocol Buffers]]
    
- [[Concurrency]]
    

---

# üß† –ó–∞—á–µ–º –≤–æ–æ–±—â–µ –ø–æ–Ω–∞–¥–æ–±–∏–ª—Å—è HTTP/2

–ü—Ä–æ–±–ª–µ–º–∞ HTTP/1.1:

- –û–¥–∏–Ω –∑–∞–ø—Ä–æ—Å = –æ–¥–Ω–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ (–∏–ª–∏ –æ—á–µ—Ä–µ–¥—å)
    
- Head-of-line blocking
    
- –ú–Ω–æ–≥–æ TCP —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
    
- –ü–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –∑–∞–≥–æ–ª–æ–≤–∫–∏
    

HTTP/2 —Ä–µ—à–∞–µ—Ç —ç—Ç–æ.

---

# üî• –ì–ª–∞–≤–Ω—ã–µ —Ñ–∏—à–∫–∏ HTTP/2

## 1Ô∏è‚É£ Multiplexing

–ú–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å **–Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –≤ –æ–¥–Ω–æ–º TCP —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–∏**.

HTTP/1.1:  
Request ‚Üí Response ‚Üí Request ‚Üí Response  
  
HTTP/2:  
Request1  
Request2  
Request3  
‚Üì  
Response1  
Response2  
Response3

–≠—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å:

- [[Concurrency]]
    

---

## 2Ô∏è‚É£ –ë–∏–Ω–∞—Ä–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª

HTTP/1.1 ‚Äî —Ç–µ–∫—Å—Ç–æ–≤—ã–π  
HTTP/2 ‚Äî –±–∏–Ω–∞—Ä–Ω—ã–π

–û–Ω —Ä–∞–∑–±–∏–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞ **frames**.

–≠—Ç–æ –±—ã—Å—Ç—Ä–µ–µ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ.

---

## 3Ô∏è‚É£ Header Compression (HPACK)

–í HTTP/1.1 –∑–∞–≥–æ–ª–æ–≤–∫–∏ –¥—É–±–ª–∏—Ä—É—é—Ç—Å—è.

HTTP/2 –∏—Ö —Å–∂–∏–º–∞–µ—Ç.

–°–≤—è–∑–∞–Ω–æ —Å:

- [[API]]
    
- [[REST API]]
    

---

## 4Ô∏è‚É£ Server Push (–ø–æ—á—Ç–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–µ–π—á–∞—Å)

–°–µ—Ä–≤–µ—Ä –º–æ–∂–µ—Ç —Å–∞–º –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ä–µ—Å—É—Ä—Å—ã –∫–ª–∏–µ–Ω—Ç—É.

---

# üîê HTTP/2 –∏ HTTPS

–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –≤—Å–µ–≥–¥–∞ HTTP/2 –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ [[HTTPS]].

–ë—Ä–∞—É–∑–µ—Ä—ã –±–µ–∑ TLS –µ–≥–æ –Ω–µ –≤–∫–ª—é—á–∞—é—Ç.

Client ‚Üí TLS ‚Üí HTTP/2

---

# üöÄ HTTP/2 –≤ Go

–•–æ—Ä–æ—à–∞—è –Ω–æ–≤–æ—Å—Ç—å:

–í Go HTTP/2 **–≤–∫–ª—é—á–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏**, –µ—Å–ª–∏ —Ç—ã –∏—Å–ø–æ–ª—å–∑—É–µ—à—å HTTPS.

–ü—Ä–∏–º–µ—Ä –æ–±—ã—á–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞:

package main  
  
import (  
	"log"  
	"net/http"  
)  
  
func main() {  
	http.HandleFunc("/", func(w http.ResponseWriter, r *http.Request) {  
		w.Write([]byte("Hello HTTP/2"))  
	})  
  
	log.Fatal(http.ListenAndServeTLS(  
		":443",  
		"server.crt",  
		"server.key",  
		nil,  
	))  
}

–ï—Å–ª–∏ TLS –µ—Å—Ç—å ‚Äî Go —Å–∞–º –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—Å—è –Ω–∞ HTTP/2.

---

# üß© HTTP/2 –∏ gRPC

[[gRPC]] **—Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø–æ–≤–µ—Ä—Ö HTTP/2**.

–ü–æ—á–µ–º—É?

–ü–æ—Ç–æ–º—É —á—Ç–æ:

- Multiplexing
    
- –ü–æ—Ç–æ–∫–∏ (streams)
    
- –ë–∏–Ω–∞—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
    
- –û—Ç–ª–∏—á–Ω–æ —Å–æ—á–µ—Ç–∞–µ—Ç—Å—è —Å [[Protocol Buffers]]
    

---

# üìä HTTP/1.1 vs HTTP/2

||HTTP/1.1|HTTP/2|
|---|---|---|
|–§–æ—Ä–º–∞—Ç|–¢–µ–∫—Å—Ç|–ë–∏–Ω–∞—Ä–Ω—ã–π|
|Multiplexing|–ù–µ—Ç|–î–∞|
|Header Compression|–ù–µ—Ç|–î–∞|
|Server Push|–ù–µ—Ç|–î–∞|
|–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å|–ù–∏–∂–µ|–í—ã—à–µ|

---

# üß† –ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è HTTP/2

- —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –±—Ä–∞—É–∑–µ—Ä—ã
    
- REST API
    
- [[Microservices]]
    
- [[gRPC]]
    
- –º–æ–±–∏–ª—å–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—ã
    

---

# ‚ö†Ô∏è –ú–∏–Ω—É—Å—ã HTTP/2

‚ùå –°–ª–æ–∂–Ω–µ–µ –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å (–±–∏–Ω–∞—Ä–Ω—ã–π)  
‚ùå –¢—Ä–µ–±—É–µ—Ç TLS  
‚ùå –ù–µ —Ä–µ—à–∞–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø—Ä–æ–±–ª–µ–º—É TCP head-of-line blocking

---

# üéØ –ö–∞–∫ —ç—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ

–í —Ç–≤–æ—ë–º –≥—Ä–∞—Ñ–µ –æ–Ω —Å–≤—è–∑–∞–Ω —Å:

- [[Microservices]] ‚Üí —Å–µ—Ä–≤–∏—Å—ã –æ–±—â–∞—é—Ç—Å—è –±—ã—Å—Ç—Ä–µ–µ
    
- [[gRPC]] ‚Üí —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–≤–µ—Ä—Ö HTTP/2
    
- [[Protocol Buffers]] ‚Üí –±–∏–Ω–∞—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
    
- [[Concurrency]] ‚Üí –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ—Ç–æ–∫–æ–≤
    

---

# üß† –í–∞–∂–Ω–æ –ø–æ–Ω—è—Ç—å

HTTP/2 ‚Äî —ç—Ç–æ:

- –Ω–µ –Ω–æ–≤—ã–π API
    
- –Ω–µ –Ω–æ–≤—ã–π –º–µ—Ç–æ–¥
    
- –Ω–µ –Ω–æ–≤—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
    

–≠—Ç–æ **—É—Ä–æ–≤–µ–Ω—å —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–≥–æ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞**.

–û–Ω —É–ª—É—á—à–∞–µ—Ç –ø–µ—Ä–µ–¥–∞—á—É –¥–∞–Ω–Ω—ã—Ö, –Ω–æ –Ω–µ –º–µ–Ω—è–µ—Ç —Ç–≤–æ–∏ handler'—ã.
# üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ–º—ã

- [[HTTP]]
    
- [[HTTPS]]
    
- [[gRPC]]
    
- [[Protocol Buffers]]
    
- [[Microservices]]
    
- [[Concurrency]]