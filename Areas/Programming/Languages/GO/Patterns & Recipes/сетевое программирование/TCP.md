# üîó TCP (Transmission Control Protocol)

## –ß—Ç–æ —Ç–∞–∫–æ–µ TCP

TCP ‚Äî —ç—Ç–æ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª, —Ä–∞–±–æ—Ç–∞—é—â–∏–π –ø–æ–≤–µ—Ä—Ö [[IP]].

–ì–ª–∞–≤–Ω–∞—è –∏–¥–µ—è:

> –ù–∞–¥—ë–∂–Ω–∞—è, —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –¥–≤—É–º—è —É–∑–ª–∞–º–∏.

TCP –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤:

- [[HTTP]]
    
- [[gRPC]]
    
- –±–∞–∑–∞—Ö –¥–∞–Ω–Ω—ã—Ö
    
- –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ backend-—Å–µ—Ä–≤–∏—Å–æ–≤
    

---

# üß† –ß–µ–º TCP –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç UDP

TCP:

- —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
    
- –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –¥–æ—Å—Ç–∞–≤–∫—É
    
- –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –ø–æ—Ä—è–¥–æ–∫
    
- –ø–æ–≤—Ç–æ—Ä—è–µ—Ç –ø–æ—Ç–µ—Ä—è–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç—ã
    
- —É–ø—Ä–∞–≤–ª—è–µ—Ç –ø–µ—Ä–µ–≥—Ä—É–∑–∫–æ–π
    

[[UDP]] –Ω–∏—á–µ–≥–æ –∏–∑ —ç—Ç–æ–≥–æ –Ω–µ –¥–µ–ª–∞–µ—Ç.

---

# üß± –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (Three-Way Handshake)

–ü–µ—Ä–µ–¥ –ø–µ—Ä–µ–¥–∞—á–µ–π –¥–∞–Ω–Ω—ã—Ö TCP —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ.

## 1Ô∏è‚É£ SYN

–ö–ª–∏–µ–Ω—Ç ‚Üí –°–µ—Ä–≤–µ—Ä  
"–Ø —Ö–æ—á—É —Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è"

## 2Ô∏è‚É£ SYN-ACK

–°–µ—Ä–≤–µ—Ä ‚Üí –ö–ª–∏–µ–Ω—Ç  
"–û–∫–µ–π, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é"

## 3Ô∏è‚É£ ACK

–ö–ª–∏–µ–Ω—Ç ‚Üí –°–µ—Ä–≤–µ—Ä  
"–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ"

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ.

–°–≤—è–∑–∞–Ω–æ —Å:

- [[Socket]]
    
- [[OSI Model]]
    

---

# üì¶ –ö–∞–∫ TCP –ø–µ—Ä–µ–¥–∞—ë—Ç –¥–∞–Ω–Ω—ã–µ

TCP:

1. –î–µ–ª–∏—Ç –ø–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å–µ–≥–º–µ–Ω—Ç—ã
    
2. –ù—É–º–µ—Ä—É–µ—Ç –∏—Ö
    
3. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç
    
4. –ü–æ–ª—É—á–∞–µ—Ç ACK –æ—Ç –¥—Ä—É–≥–æ–π —Å—Ç–æ—Ä–æ–Ω—ã
    
5. –ï—Å–ª–∏ –Ω–µ—Ç ACK ‚Üí –ø–æ–≤—Ç–æ—Ä—è–µ—Ç –æ—Ç–ø—Ä–∞–≤–∫—É
    

---

# üî¢ Sequence Number –∏ ACK

–ö–∞–∂–¥—ã–π —Å–µ–≥–º–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç:

- Sequence Number
    
- Acknowledgment Number
    

–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç:

- –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –ø–æ—Ä—è–¥–æ–∫
    
- –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞—Ç—å –ø–æ—Ç–µ—Ä—é
    

---

# üåä TCP ‚Äî –ø–æ—Ç–æ–∫ –±–∞–π—Ç

–í–∞–∂–Ω–æ:

> TCP ‚Äî —ç—Ç–æ stream, –∞ –Ω–µ —Å–æ–æ–±—â–µ–Ω–∏—è.

–ï—Å–ª–∏ —Ç—ã –æ—Ç–ø—Ä–∞–≤–∏–ª:

conn.Write([]byte("Hello"))

–≠—Ç–æ –Ω–µ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –ø–æ–ª—É—á–∞—Ç–µ–ª—å –ø—Ä–æ—á–∏—Ç–∞–µ—Ç "Hello" —Ü–µ–ª–∏–∫–æ–º –∑–∞ –æ–¥–∏–Ω Read.

TCP –º–æ–∂–µ—Ç —Ä–∞–∑–±–∏—Ç—å –∏–ª–∏ –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ.

---

# üß™ TCP —Å–µ—Ä–≤–µ—Ä –≤ Go

## –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π TCP —Å–µ—Ä–≤–µ—Ä

package main  
  
import (  
	"fmt"  
	"net"  
)  
  
func main() {  
	ln, _ := net.Listen("tcp", ":8082")  
	defer ln.Close()  
  
	fmt.Println("TCP server started on :8082")  
  
	for {  
		conn, _ := ln.Accept()  
		go handle(conn)  
	}  
}  
  
func handle(conn net.Conn) {  
	defer conn.Close()  
  
	buffer := make([]byte, 1024)  
  
	for {  
		n, err := conn.Read(buffer)  
		if err != nil {  
			return  
		}  
  
		message := string(buffer[:n])  
		fmt.Println("Received:", message)  
  
		conn.Write([]byte("ACK: " + message))  
	}  
}

---

# üì§ TCP –∫–ª–∏–µ–Ω—Ç –≤ Go

package main  
  
import (  
	"fmt"  
	"net"  
)  
  
func main() {  
	conn, _ := net.Dial("tcp", "localhost:8082")  
	defer conn.Close()  
  
	conn.Write([]byte("Hello TCP"))  
  
	buffer := make([]byte, 1024)  
	n, _ := conn.Read(buffer)  
  
	fmt.Println("Server says:", string(buffer[:n]))  
}

---

# üßµ TCP –∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å

–ö–∞–∂–¥–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–æ–∫–µ—Ç.

for {  
    conn, _ := ln.Accept()  
    go handle(conn)  
}

–û–±—ã—á–Ω–æ:

- –æ–¥–Ω–∞ [[Areas/Programming/Languages/GO/Patterns & Recipes/–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å/Goroutine]] –Ω–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
    
- —á—Ç–µ–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å –±–ª–æ–∫–∏—Ä—É—é—â–∏–µ
    

---

# üö¶ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–º

TCP –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–µ–≥—É–ª–∏—Ä—É–µ—Ç:

- —Å–∫–æ—Ä–æ—Å—Ç—å –ø–µ—Ä–µ–¥–∞—á–∏
    
- —Ä–∞–∑–º–µ—Ä –æ–∫–Ω–∞ (window size)
    
- –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–µ–≥—Ä—É–∑–∫—É —Å–µ—Ç–∏
    

–≠—Ç–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è:

> Congestion Control

---

# üîÑ –ó–∞–∫—Ä—ã—Ç–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

TCP –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —á–µ—Ç—ã—Ä—ë—Ö—à–∞–≥–æ–≤–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ:

1. FIN
    
2. ACK
    
3. FIN
    
4. ACK
    

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∑–∞–∫—Ä—ã—Ç–æ.

---

# ‚ö† –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ TCP

1Ô∏è‚É£ Head-of-line blocking  
–ï—Å–ª–∏ –æ–¥–∏–Ω —Å–µ–≥–º–µ–Ω—Ç –ø–æ—Ç–µ—Ä—è–Ω ‚Äî –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∂–¥—É—Ç.

2Ô∏è‚É£ –ó–∞–¥–µ—Ä–∂–∫–∞ –∏–∑-–∑–∞ handshake  
–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å.

3Ô∏è‚É£ –ù–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã  
–ë–æ–ª—å—à–µ, —á–µ–º —É [[UDP]].

---

# üåê TCP –∏ HTTP

–ö–æ–≥–¥–∞ —Ç—ã –ø–∏—à–µ—à—å:

http.ListenAndServe(":8080", handler)

–ü–æ–¥ –∫–∞–ø–æ—Ç–æ–º:

- —Å–æ–∑–¥–∞—ë—Ç—Å—è TCP socket
    
- —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è TCP —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
    
- –ø–æ–≤–µ—Ä—Ö TCP —Ä–∞–±–æ—Ç–∞–µ—Ç HTTP
    

---

# üìå TCP –≤ production

–ù–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è:

- keep-alive
    
- —Ç–∞–π–º–∞—É—Ç—ã
    
- –ª–∏–º–∏—Ç—ã —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
    
- backlog
    

–í Go:

server := &http.Server{  
    ReadTimeout: 5 * time.Second,  
    WriteTimeout: 10 * time.Second,  
}

---

# üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ–º—ã

- [[UDP]]
    
- [[IP Address]]
    
- [[Socket]]
    
- [[Three-way Handshake]]
    
- [[HTTP]]
    
- [[OSI Model]]
    
- [[Packet]]
    
- [[NAT]]
    
- [[Context]]
    

---

# üíé –ì–ª–∞–≤–Ω–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ

TCP ‚Äî —ç—Ç–æ:

> –ù–∞–¥—ë–∂–Ω—ã–π –ø–æ—Ç–æ–∫ –±–∞–π—Ç –º–µ–∂–¥—É –¥–≤—É–º—è —É–∑–ª–∞–º–∏.

–û–Ω —Å–∫—Ä—ã–≤–∞–µ—Ç:

- –ø–æ—Ç–µ—Ä—é –ø–∞–∫–µ—Ç–æ–≤
    
- –ø–æ—Ä—è–¥–æ–∫
    
- –ø–µ—Ä–µ–≥—Ä—É–∑–∫—É
    

–ü–æ—ç—Ç–æ–º—É –ø–æ—á—Ç–∏ –≤–µ—Å—å backend —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–≤–µ—Ä—Ö TCP.

---

# üß† –û—á–µ–Ω—å –≤–∞–∂–Ω—ã–π –∏–Ω—Å–∞–π—Ç

–ö–æ–≥–¥–∞ —Ç—ã –ø–∏—à–µ—à—å:

conn.Write(...)

–¢—ã –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—à—å —Å–æ–æ–±—â–µ–Ω–∏–µ.  
–¢—ã –¥–æ–±–∞–≤–ª—è–µ—à—å –±–∞–π—Ç—ã –≤ –ø–æ—Ç–æ–∫ TCP.

–ê –¥–∞–ª—å—à–µ TCP:

- —Å–µ–≥–º–µ–Ω—Ç–∏—Ä—É–µ—Ç
    
- –Ω—É–º–µ—Ä—É–µ—Ç
    
- –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç
    
- –ø–æ–≤—Ç–æ—Ä—è–µ—Ç –ø—Ä–∏ –ø–æ—Ç–µ—Ä–µ