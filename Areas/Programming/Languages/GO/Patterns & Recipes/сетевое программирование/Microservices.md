# üèó –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã

## –ß—Ç–æ —Ç–∞–∫–æ–µ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã

–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ ‚Äî —ç—Ç–æ –ø–æ–¥—Ö–æ–¥, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤.

–ì–ª–∞–≤–Ω–∞—è –∏–¥–µ—è:

> –†–∞–∑–¥–µ–ª–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –Ω–∞ –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–µ, –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã —Å —á—ë—Ç–∫–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å—é.

---

# üß† –ú–æ–Ω–æ–ª–∏—Ç vs –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã

## –ú–æ–Ω–æ–ª–∏—Ç

–û–¥–∏–Ω —Å–µ—Ä–≤–∏—Å:

Backend  
 ‚îú‚îÄ Auth  
 ‚îú‚îÄ Users  
 ‚îú‚îÄ Orders  
 ‚îú‚îÄ Payments

–ü—Ä–æ–±–ª–µ–º—ã:

- —Å–ª–æ–∂–Ω–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å
    
- —Å–ª–æ–∂–Ω–æ –¥–µ–ø–ª–æ–∏—Ç—å —á–∞—Å—Ç–∏—á–Ω–æ
    
- –±–æ–ª—å—à–∞—è —Å–≤—è–∑–Ω–æ—Å—Ç—å
    

---

## –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã

–ö–∞–∂–¥—ã–π –º–æ–¥—É–ª—å ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å:

Auth Service  
Users Service  
Orders Service  
Payments Service

–ö–∞–∂–¥—ã–π:

- –∏–º–µ–µ—Ç —Å–≤–æ—é –±–∞–∑—É
    
- —Å–≤–æ–π API
    
- –¥–µ–ø–ª–æ–∏—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ
    

---

# üåê –ö–∞–∫ —Å–µ—Ä–≤–∏—Å—ã –æ–±—â–∞—é—Ç—Å—è

–û–±—ã—á–Ω–æ —á–µ—Ä–µ–∑:

- [[REST API]]
    
- [[gRPC]]
    
- message broker (Kafka, RabbitMQ)
    

–†–∞–±–æ—Ç–∞–µ—Ç –ø–æ–≤–µ—Ä—Ö:

- [[TCP]]
    
- [[HTTP2]]
    
- [[Protocol Buffers]]
    

---

# üß± –ü—Ä–∏–º–µ—Ä –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

Client  
   ‚Üì  
API Gateway  
   ‚Üì  
Auth Service  
Users Service  
Orders Service  
Payments Service

---

# üö™ API Gateway

–ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞.

–û—Ç–≤–µ—á–∞–µ—Ç –∑–∞:

- –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—é
    
- –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é
    
- rate limiting
    
- –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
    

–°–≤—è–∑–∞–Ω–æ —Å:

- [[Middleware]]
    
- [[JWT]]
    
- [[Load Balancing]]
    

---

# üóÑ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

–ü—Ä–∞–≤–∏–ª–æ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤:

> –ö–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å –≤–ª–∞–¥–µ–µ—Ç —Å–≤–æ–µ–π –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö.

–ù–µ–ª—å–∑—è:

UserService –∏ OrderService –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–Ω—É —Ç–∞–±–ª–∏—Ü—É –Ω–∞–ø—Ä—è–º—É—é

–≠—Ç–æ —Å–æ–∑–¥–∞—ë—Ç —Å–∏–ª—å–Ω—É—é —Å–≤—è–∑–Ω–æ—Å—Ç—å.

---

# üîÑ –°–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ

–ß–µ—Ä–µ–∑ HTTP –∏–ª–∏ gRPC:

client.GetUser(ctx, request)

–ü–ª—é—Å—ã:

- –ø—Ä–æ—Å—Ç–æ
    
- –ø–æ–Ω—è—Ç–Ω–æ
    

–ú–∏–Ω—É—Å—ã:

- –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –¥—Ä—É–≥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
    

---

# üì¨ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ

–ß–µ—Ä–µ–∑ –±—Ä–æ–∫–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π:

OrderCreated ‚Üí Kafka ‚Üí PaymentService

–ü–ª—é—Å—ã:

- —Å–ª–∞–±–∞—è —Å–≤—è–∑–Ω–æ—Å—Ç—å
    
- —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å
    

–ú–∏–Ω—É—Å—ã:

- —Å–ª–æ–∂–Ω–µ–µ –æ—Ç–ª–∞–¥–∫–∞
    
- eventual consistency
    

---

# üì¶ –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤

## 1Ô∏è‚É£ Service Discovery

–ù–∞–π—Ç–∏ —Å–µ—Ä–≤–∏—Å –≤ —Å–µ—Ç–∏.

## 2Ô∏è‚É£ Load Balancer

–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏.

## 3Ô∏è‚É£ Circuit Breaker

–ó–∞—â–∏—Ç–∞ –æ—Ç –∫–∞—Å–∫–∞–¥–Ω—ã—Ö –ø–∞–¥–µ–Ω–∏–π.

## 4Ô∏è‚É£ Observability

- [[Prometheus]]
    
- [[Grafana]]
    
- [[OpenTelemetry]]
    
- [[Jaeger]]
    

---

# üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–í –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞—Ö –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ:

- –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
    
- –º–µ—Ç—Ä–∏–∫–∏
    
- —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞
    

Middleware –æ–±—ã—á–Ω–æ —Å–æ–±–∏—Ä–∞–µ—Ç:

- –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞
    
- –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤
    
- –æ—à–∏–±–∫–∏
    

---

# üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è:

- [[TLS]]
    
- mTLS
    
- [[JWT]]
    
- OAuth
    

---

# ‚ö† –ü—Ä–æ–±–ª–µ–º—ã –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤

1Ô∏è‚É£ –°–ª–æ–∂–Ω–æ—Å—Ç—å  
2Ô∏è‚É£ –°–µ—Ç–µ–≤–∞—è –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å  
3Ô∏è‚É£ –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏  
4Ô∏è‚É£ –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ API  
5Ô∏è‚É£ –†–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

---

# üîÑ Distributed Transactions

–í–º–µ—Å—Ç–æ –æ–¥–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏:

- –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Saga pattern
    
- –∏–ª–∏ eventual consistency
    

---

# üß† –ö–æ–≥–¥–∞ –ù–ï –Ω—É–∂–Ω—ã –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã

–ï—Å–ª–∏:

- –º–∞–ª–µ–Ω—å–∫–∏–π –ø—Ä–æ–µ–∫—Ç
    
- 1‚Äì2 —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
    
- –ø—Ä–æ—Å—Ç–∞—è –ª–æ–≥–∏–∫–∞
    

–ú–æ–Ω–æ–ª–∏—Ç –±—É–¥–µ—Ç –ø—Ä–æ—â–µ.

---

# üöÄ –ö–æ–≥–¥–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã –æ–ø—Ä–∞–≤–¥–∞–Ω—ã

–ï—Å–ª–∏:

- –±–æ–ª—å—à–∞—è –∫–æ–º–∞–Ω–¥–∞
    
- –º–Ω–æ–≥–æ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö –¥–æ–º–µ–Ω–æ–≤
    
- —Ä–∞–∑–Ω—ã–µ –Ω–∞–≥—Ä—É–∑–∫–∏
    
- —Ä–∞–∑–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
    

---

# üß© –ü—Ä–∏–º–µ—Ä –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞ –Ω–∞ Go

–¢–∏–ø–∏—á–Ω—ã–π —Å–µ—Ä–≤–∏—Å:

cmd/  
internal/  
   handler/  
   service/  
   repository/  
pkg/

–†–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑:

- [[Router]]
    
- [[Middleware]]
    
- [[Context]]
    
- [[gRPC]] –∏–ª–∏ [[REST API]]
    

---

# üìå –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ —Ä–µ–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ

–ö–æ–≥–¥–∞ –∫–ª–∏–µ–Ω—Ç –¥–µ–ª–∞–µ—Ç –∑–∞–ø—Ä–æ—Å:

1. API Gateway –ø—Ä–∏–Ω–∏–º–∞–µ—Ç HTTP
    
2. –ü—Ä–æ–∫—Å–∏—Ä—É–µ—Ç –≤ –Ω—É–∂–Ω—ã–π —Å–µ—Ä–≤–∏—Å
    
3. –°–µ—Ä–≤–∏—Å –≤—ã–∑—ã–≤–∞–µ—Ç –¥—Ä—É–≥–æ–π —Å–µ—Ä–≤–∏—Å —á–µ—Ä–µ–∑ gRPC
    
4. –û—Ç–≤–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –æ–±—Ä–∞—Ç–Ω–æ
    

–≠—Ç–æ –¥–µ—Å—è—Ç–∫–∏ —Å–µ—Ç–µ–≤—ã—Ö –≤—ã–∑–æ–≤–æ–≤ –≤–Ω—É—Ç—Ä–∏.

---

# üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ–º—ã

- [[REST API]]
    
- [[gRPC]]
    
- [[Protocol Buffers]]
    
- [[HTTP]]
    
- [[TCP]]
    
- [[Middleware]]
    
- [[Router]]
    
- [[Prometheus]]
    
- [[Grafana]]
    
- [[OpenTelemetry]]
    
- [[Circuit Breaker]]
    
- [[Load Balancing]]
    
- [[API Gateway]]
    
- [[Saga Pattern]]
    

---

# üíé –ì–ª–∞–≤–Ω–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ

–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã ‚Äî —ç—Ç–æ:

> –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã, –≥–¥–µ –∫–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å–≤–æ—é –±–∏–∑–Ω–µ—Å-–∑–æ–Ω—É –∏ –æ–±—â–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ —Å–µ—Ç—å.

–≠—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ "—Ä–∞–∑–¥–µ–ª–∏—Ç—å –∫–æ–¥".  
–≠—Ç–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ª–æ–∂–Ω–æ—Å—Ç—å—é –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å–∏—Å—Ç–µ–º—ã.

---

# üß† –ò–Ω—Å–∞–π—Ç –¥–ª—è —Ç–µ–±—è

–ú–æ–Ω–æ–ª–∏—Ç ‚Äî —Å–ª–æ–∂–Ω–æ—Å—Ç—å –≤–Ω—É—Ç—Ä–∏ –∫–æ–¥–∞.  
–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã ‚Äî —Å–ª–æ–∂–Ω–æ—Å—Ç—å –≤ —Å–µ—Ç–∏.

–¢—ã –ø–µ—Ä–µ–Ω–æ—Å–∏—à—å —Å–ª–æ–∂–Ω–æ—Å—Ç—å –∏–∑ –æ–¥–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ –≤ –¥—Ä—É–≥—É—é.