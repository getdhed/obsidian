# üîå Socket

## –ß—Ç–æ —Ç–∞–∫–æ–µ —Å–æ–∫–µ—Ç

Socket ‚Äî —ç—Ç–æ –∫–æ–Ω–µ—á–Ω–∞—è —Ç–æ—á–∫–∞ —Å–µ—Ç–µ–≤–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.

–§–æ—Ä–º–∞–ª—å–Ω–æ:

> Socket = IP + Port + Protocol

–ü—Ä–∏–º–µ—Ä:

142.250.74.206:443 (TCP)

---

# üß† –ü—Ä–æ—Å—Ç–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ

- IP ‚Üí —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
    
- Port ‚Üí –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
    
- Protocol ‚Üí –ø—Ä–∞–≤–∏–ª–∞ –ø–µ—Ä–µ–¥–∞—á–∏ (TCP / UDP)
    

–°–æ–∫–µ—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–≤—É–º –ø—Ä–æ—Ü–µ—Å—Å–∞–º –æ–±–º–µ–Ω–∏–≤–∞—Ç—å—Å—è –¥–∞–Ω–Ω—ã–º–∏.

---

# üñ• –ì–¥–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Å–æ–∫–µ—Ç

–°–æ–∫–µ—Ç —Å–æ–∑–¥–∞—ë—Ç—Å—è –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π.

–ö–æ–≥–¥–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –≤—ã–∑—ã–≤–∞–µ—Ç:

net.Listen("tcp", ":8080")

–û–°:

- —Ä–µ–∑–µ—Ä–≤–∏—Ä—É–µ—Ç –ø–æ—Ä—Ç
    
- —Å–æ–∑–¥–∞—ë—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å–æ–∫–µ—Ç–∞
    
- –Ω–∞—á–∏–Ω–∞–µ—Ç —Å–ª—É—à–∞—Ç—å –≤—Ö–æ–¥—è—â–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
    

---

# üîÑ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ

## 1Ô∏è‚É£ –°–µ—Ä–≤–µ—Ä —Å–æ–∑–¥–∞—ë—Ç listening socket

IP: 0.0.0.0  
Port: 8080  
Protocol: TCP

–û–Ω –∂–¥—ë—Ç –≤—Ö–æ–¥—è—â–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.

---

## 2Ô∏è‚É£ –ö–ª–∏–µ–Ω—Ç —Å–æ–∑–¥–∞—ë—Ç client socket

IP: 192.168.0.10  
Port: 52341 (–≤—Ä–µ–º–µ–Ω–Ω—ã–π)  
Protocol: TCP

---

## 3Ô∏è‚É£ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è TCP-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ

–ü–æ—Å–ª–µ [[Three-way Handshake]] —Å–æ–∑–¥–∞—ë—Ç—Å—è –ø–∞—Ä–∞ —Å–æ–∫–µ—Ç–æ–≤:

- Server socket (—Å–≤—è–∑–∞–Ω–Ω—ã–π —Å –∫–ª–∏–µ–Ω—Ç–æ–º)
    
- Client socket
    

–¢–µ–ø–µ—Ä—å –æ–Ω–∏ –º–æ–≥—É—Ç —á–∏—Ç–∞—Ç—å –∏ –ø–∏—Å–∞—Ç—å –¥–∞–Ω–Ω—ã–µ.

---

# üì¶ –ß—Ç–æ –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å —á–µ—Ä–µ–∑ —Å–æ–∫–µ—Ç

- —á–∏—Ç–∞—Ç—å –¥–∞–Ω–Ω—ã–µ
    
- –ø–∏—Å–∞—Ç—å –¥–∞–Ω–Ω—ã–µ
    
- –∑–∞–∫—Ä—ã–≤–∞—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
    
- –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ
    

–í Go:

conn.Read()  
conn.Write()  
conn.Close()

---

# üî• –í–∞–∂–Ω–æ –ø–æ–Ω—è—Ç—å

Listening socket ‚â† Connection socket

- Listening socket –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω–æ–≤—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
    
- Accept() —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π —Å–æ–∫–µ—Ç –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞
    

–ü—Ä–∏–º–µ—Ä:

ln, _ := net.Listen("tcp", ":8080")  
  
for {  
    conn, _ := ln.Accept()  
    go handle(conn)  
}

–ö–∞–∂–¥—ã–π `conn` ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–æ–∫–µ—Ç.

---

# üåê TCP vs UDP —Å–æ–∫–µ—Ç—ã

## TCP socket

- –ø–æ—Ç–æ–∫ –±–∞–π—Ç
    
- –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞
    
- —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è
    

## UDP socket

- –ø–µ—Ä–µ–¥–∞—á–∞ –¥–∞—Ç–∞–≥—Ä–∞–º–º
    
- –Ω–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
    
- –Ω–µ—Ç –≥–∞—Ä–∞–Ω—Ç–∏–π
    

---

# üßµ –°–æ–∫–µ—Ç—ã –∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å

–ü–æ—Ç–æ–º—É —á—Ç–æ:

- –∫–ª–∏–µ–Ω—Ç–æ–≤ –º–æ–∂–µ—Ç –±—ã—Ç—å –º–Ω–æ–≥–æ
    
- —á—Ç–µ–Ω–∏–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è
    
- –∑–∞–ø–∏—Å—å –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è
    

–û–±—ã—á–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è:

- [[Goroutine]]
    
- [[Select]]
    
- [[Context]]
    

---

# üîê –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Å–æ–∫–µ—Ç—ã

–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è [[TLS]]:

–°–æ–∫–µ—Ç –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –≤ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ.

–ü—Ä–∏–º–µ—Ä:

HTTPS = HTTP + TLS + TCP socket

---

# üìå –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª —Å–æ–∫–µ—Ç–∞

1. –°–æ–∑–¥–∞–Ω–∏–µ
    
2. –ü—Ä–∏–≤—è–∑–∫–∞ –∫ IP/Port (bind)
    
3. –ü—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏–µ (listen)
    
4. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (accept/connect)
    
5. –ü–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö
    
6. –ó–∞–∫—Ä—ã—Ç–∏–µ (close)
    

---

# üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ–º—ã

- [[IP Address]]
    
- [[Port]]
    
- [[TCP]]
    
- [[UDP]]
    
- [[NAT]]
    
- [[Three-way Handshake]]
    
- [[Packet]]
    

---

# üíé –ì–ª–∞–≤–Ω–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ

–°–æ–∫–µ—Ç ‚Äî —ç—Ç–æ:

> –ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –¥–ª—è –æ–±–º–µ–Ω–∞ –¥–∞–Ω–Ω—ã–º–∏ –º–µ–∂–¥—É –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏ –ø–æ —Å–µ—Ç–∏.

–≠—Ç–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç –≤—Å–µ–≥–æ —Å–µ—Ç–µ–≤–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è.

HTTP? –†–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ —Å–æ–∫–µ—Ç—ã.  
gRPC? –ß–µ—Ä–µ–∑ —Å–æ–∫–µ—Ç—ã.  
–ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö? –ß–µ—Ä–µ–∑ —Å–æ–∫–µ—Ç—ã.